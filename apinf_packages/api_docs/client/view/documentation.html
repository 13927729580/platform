<!-- Copyright 2019 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="apiDocumentation">
  {{# if Template.subscriptionsReady }}
    <div class="pull-right">
      {{# if codegenServerExists }}
        {{# if documentationExists }}
          <button
            id="sdk-code-generator"
            class="btn btn-default btn-xs"
            data-toggle="tooltip"
            title="{{_ 'apiDocumentation_tooltipSDKGeneratorButton' }}">
            {{_ "apiDocumentation_sdkGenerateButton" }}
          </button>
        {{/ if }}
      {{/ if }}
      {{# if api.currentUserCanManage }}
        {{# if displayEditor }}
          <button
            class="btn btn-default editor"
            style="text-transform: uppercase;font-size:12px;position: relative; bottom: 6px;">
            {{_ "apiDocumentation_buttonText_closeEditor" }}
          </button>
        {{ else }}
          {{# if developmentFeatures }}
            <button
              class="btn btn-info editor"
              style="text-transform: uppercase;font-size:12px;position: relative; bottom: 6px;">
              {{_ "apiDocumentation_buttonText_openEditor" }}
            </button>
          {{/ if }}
        {{/ if }}
        <button
          id="manage-api-documentation"
          class="btn btn-default"
          style="text-transform: uppercase;font-size:12px;position: relative; bottom: 6px;">
          {{_ "apiDocumentation_manageDocumentation_buttonText" }}
        </button>
      {{/ if }}
    </div>
    <h2 id="documentation-title" style="font-size:1.6em;display: inline;">
      {{_ "apiConsole_title_text" }}
    </h2>
    <hr style="margin-top:1em;" />
      {{# if displayViewBlock }}
        <div id="documentation-viewer-panel" style="margin-top:1em;">
          {{# if displayEditor }}
            {{> openApiEditor api=api }}
          {{ else }}
            {{# if documentationExists }}
              {{> swaggerUi api=api }}
            {{ else }}
              <p>
                {{_ "apiDocumentation_No_Swagger_Manager_Message" }}
              </p>
            {{/ if }}
          {{/ if }}
        </div>
      {{/ if }}
    {{ else }}
      {{> spinner }}
    {{/ if }}
</template>
