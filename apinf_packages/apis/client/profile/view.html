<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="viewApi">
  {{# if Template.subscriptionsReady }}
    {{> viewApiPageHeader
      api=api
      proxyIsConfigured=proxyIsConfigured
      proxyIsEmq=proxyIsEmq
      proxyBackend=proxyBackend }}
    <div class="container-fluid">
      <div class="tab-content container">
        <div id="api-details" class="block-wrapper tab-pane fade in active">
          {{> apiDetails api=api proxyBackend=proxyBackend }}
        </div> <!-- /api-backend-details -->

        <div id="api-auth" class="block-wrapper tab-pane fade">
          {{> apiAuth api=api proxyBackend=proxyBackend }}
        </div> <!-- /api-backend-details -->

        <div id="api-documentation" class="tab-pane fade block-wrapper">
          {{> apiDocumentation api=api apiDoc=apiDoc developmentFeatures=developmentFeatures }}
        </div> <!-- /api-documentation -->

        {{# if currentUser }}
          {{# if api.currentUserCanManage }}
            <div id="api-settings" class="block-wrapper tab-pane fade">
              {{> apiSettings api=api proxyBackend=proxyBackend }}
            </div>
          {{/ if }}
        {{/ if }}
      </div>
    </div>
    {{# if currentUser }}
      <div id="floating-button" class="small-tooltip">
        {{> bookmark api=api }}
      </div>
    {{/ if }}
  {{ else }}
    {{> spinner }}
  {{/ if }}
</template>
