<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="apiDetails">
  <div class="page-head-topblock">
      <!-- Header -->
      <!-- {{# if currentUser }}
        {{# if proxyBackend }}
          <div>
            <span class="pull-right" style="padding-top:0.6em;">
              {{> apiKey api=api proxyBackend=proxyBackend }}
            </span>
          </div>
        {{/ if }}
      {{/ if }} -->
      <div class="page-head-infoblock">
        <!-- {{# if currentUser }}
          {{> bookmark api=api }}
        {{else}} -->
          <!-- <a href="#" class="bookmark-button">
            <div
                class="api-card-bookmark"
                data-toggle="tooltip"
                data-placement="bottom"
                title="{{_ 'catalog_bookmarkTooltip_nonUser' }}">
              <span class="api-card-bookmark-number">{{ api.bookmarkCount }}</span>
              <i class="fa fa-bookmark bookmark-default"></i>
            </div>
          </a> -->
        <!-- {{/ if }} -->

        <div class="api-info">
          <h1 id="api-header" style="font-size: 1.4em; font-weight: 400; color: #55626c;">
            {{# if api.organization }}
            <!-- TODO: link to organization -->
              {{ api.organization.name }}
            {{ else }}
              {{ api.getApiManagersByName }}
            {{/ if }}
            /<a href="{{ pathFor 'viewApi' slug=api.slug }}" style="font-weight: 500;">
              {{ api.name }}
            </a>
          </h1>
          <p style="color:#6d859e;margin-bottom:0">
            {{ api.description }}
          </p>

          <!-- {{# unless api.isPublic }}
            <span class="label label-default"
            style="background-color:transparent;
            position:relative;
            bottom:5px;
            margin-left:5px;">{{_ "viewApiPageHeader_privateLabel_text" }}</span>
          {{/ unless }} -->

        </div>
      </div>

  </div>
  <div class="row">
    <div class="col-lg-12 api-details-block">
      <h1 style="font-size:1.6em;margin-top:0;text-transform: none;">
        Quick Start
      </h1>
        <h2 id="api-url-title" style="font-size:16px;margin-top:0;">
          {{_ "apiDetails_baseUrl_headingText" }}
        </h2>
        <p style="color:#6d859e;">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer pulvinar sagittis ipsum dignissim vehicula.
          In luctus faucibus tortor at dignissim. Curabitur ut felis id erat tempus feugiat sit amet commodo nisi.
        </p>
        <div class="input-group">
          {{# if proxyUrl }}
          <input
            type="text"
            class="form-control"
            id="api-url"
            value="{{ proxyUrl }}" disabled>
            {{ else }}
            <input
              type="text"
              class="form-control"
              id="api-url"
              value="{{ api.url }}" disabled>
            {{/ if }}
          <span class="input-group-btn">
            <button
              class="btn btn-default"
              id="copyApiUrl"
              type="button"
              data-original-title="Copied!"
              data-clipboard-target="#api-url">
              <i class="fa fa-clipboard" alt="Copy to clipboard"></i>
              &nbsp;&nbsp;Copy to clipboard
            </button>
          </span>
        </div>
        <div style="margin-top:10px">
          <h2 id="api-url-title" style="font-size:16px;margin-top:0;">
            Authorization
          </h2>
          <span>
            X-Api-Key:
            {{# if currentUser }}
              {{# if proxyUrl }}
                {{# unless disableApiKey }}
                  {{# if hasApiKey }}
                    {{ apiKey }}
                  {{/ if }}
                {{/ unless }}
              {{/ if }}
            {{/ if }}
          </span>
        </div>
    </div>
  </div>
  {{# if currentUser }}
    {{# if proxyUrl }}
      <div id="usage-instructions" class="bs-callout bs-callout-primary">
        <h4>
          {{_ "apiDetails_usageInstructions_headingText" }}
        </h4>
        <ul>
          {{# unless disableApiKey }}
            {{# if hasApiKey }}

              <li>
                {{_ "apiDetails_usageInstructions_requestHeaders_text" }}
                <span>
                  <i>X-Api-Key:</i> {{ apiKey }}
                </span>
              </li>
            {{ else }}

              <li>
                {{_ "apiDetails_usageInstructions_noApiKeyText" }}
              </li>
            {{/ if }}
          {{ else }}

            <li>
              {{_ "apiDetails_usageInstructions_disableApiKeyText" }}
              <i>{{ proxyUrl }}&lt;optional_path&gt;</i>
            </li>
          {{/ unless }}
        </ul>
      </div>
    {{/ if }}
  {{/ if }}
  <!-- Embedded Related Media contents -->
  <!-- {{> relatedMedia entity=api }} -->


</template>
