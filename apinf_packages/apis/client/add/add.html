<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="addApi">
  {{# if Template.subscriptionsReady }}
    <div class="container">
      <h1 class="page-header">
        {{_ "addApi_header" }}
      </h1>
      <!-- Add API by entering API details -->
      <section>
        <h2 class="second-title">
          {{_ 'addApi_enterApiDetails' }}
        </h2>
        {{# autoForm collection=ApisCollection id="addApiForm" type="insert" }}
          <!--invisible auto-value field-->
          {{> afQuickField name='latestMonitoringStatusCode' value="-1" type="hidden"}}
          <fieldset>
            {{> afQuickField name='name' id="api-name" placeholder="e.g. Tampere Bus Service" }}
            <p class="field-description-text">
              {{_ 'addApi_nameFieldInfo' }}
            </p>
            {{> afQuickField name='description' rows=2 id="api-description" placeholder="e.g. Plan your journey across Tampere city by getting up-to-date bus information, real-time vehicle location and inter zone routing. You can lookup bus times by line and stoppage." }}
            <p class="field-description-text">
              {{_ 'addApi_descriptionFieldInfo' }}
            </p>
            {{> afQuickField name='url' id="api-url" placeholder="e.g. https://tampere-bus-service.fi" }}
            <p class="field-description-text">
              {{_ 'addApi_urlFieldInfo' }}
            </p>
            {{> afQuickField name='lifecycleStatus' id="api-lifecyclestatus" }}
          </fieldset>
          <p class="overview-help-text">
              {{_ 'addApi_ownerHelpText' }}
          </p>
          <button type="submit" class="btn btn-primary" id="submitapi-button">
            {{_ 'addApi_button_text' }}
          </button>
        {{/ autoForm }}
      </section>
      <!-- separator -->
      <div class="line-and-text">
        <span>
          {{_ 'addApi_separateLineTitle_or' }}
        </span>
      </div>
      <!-- Add API by uploading OpenAPI specification -->
      <div class="form-group">
        <h2 class="second-title">
          {{_ "addApi_sectionTitle_importOpenApiSpecification" }}
        </h2>
        {{> importOpenApiSpecification }}
      </div>
      <!-- separator -->
      <div class="line-and-text">
        <span>
          {{_ 'addApi_separateLineTitle_or' }}
        </span>
      </div>
      <!-- Add API by uploading API configuration -->
      <section>
        <h2 class="second-title">
          {{_ "addApi_sectionTitle_importApiConfiguration" }}
        </h2>
        {{> importApiConfiguration }}
      </section>
    </div>
  {{ else }}
    {{> spinner }}
  {{/ if }}
</template>
