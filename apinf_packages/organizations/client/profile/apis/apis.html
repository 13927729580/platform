<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="organizationApis">
  <div class="row">
    {{# if Template.subscriptionsReady }}
      <div class="col-md-9">
        <!-- Show or not content -->
        {{# if paginationReady }}
          {{# if hasApi }}
            {{> apiCatalogTable apis=apis organization=organization }}
          {{ else }}
            <!-- Show no APIs message -->
            {{> organizationNoApis organization=organization }}
          {{/ if }}
        {{/ if }}
      </div>
      {{# if hasApi }}
        <div class="col-md-3" style="padding-left: 5px;">
          <div class="filter-dropdown block-wrapper">
            {{> apiSortingToolbar }}
            <!-- Connection API button -->
            {{# if organization.currentUserCanManage }}
              <button type="button" class="btn btn-success btn-success-special" id="connect-api" style="width:100%;">
                {{_ 'organizationProfile_buttonText_connectApi' }}
              </button>
            {{/ if }}
          </div>
          <div class="about-organization block-wrapper" style="margin-left: 0;">
            <h2 style="font-size:1.6em;margin-top:0;text-transform: none;margin-bottom: 0.5em;"> {{ organization.name }}</h2>
            {{# if organization.description }}
              <p style="color:#37474F;">
                {{ organization.description }}
              </p>
            {{/ if }}
            <p style="padding: 10px 15px; background-color:#f1f8ff; text-decoration:none; border-radius: 2px;">
              <a href="{{ organization.url }}">
                {{ organization.url }}
              </a>
            </p>
            {{# if organization.contact.email }}
              <p style="padding: 10px 15px; background-color:#f1f8ff; text-decoration:none; border-radius: 2px;margin-bottom:0;">
                <a href="mailto:{{ organization.contact.email }}">
                  {{ organization.contact.email }}
                </a>
              </p>
            {{/ if }}
          </div>
        </div>
      {{/ if }}
    {{ else }}
      <!-- If no data yet available show spinner -->
      {{> spinner }}
    {{/ if }}
  </div>
</template>
