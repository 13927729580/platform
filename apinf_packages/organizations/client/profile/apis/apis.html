<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="organizationApis">
  <div class="row">
    {{# if Template.subscriptionsReady }}
      <div class="col-md-8">
        <div class="block-wrapper">
          <div style="margin-bottom:1em;">
            <h5 class="panel-title" style="color:#5c617b;">
              Our APIs
              {{# if organization.currentUserCanManage }}
              <a type="button" class="btn-link pull-right" id="connect-api" style="height:auto;cursor:pointer;">
                <small>
                  Connect API to Organization
                </small>
              </a>
              {{/ if }}
            </h5>
            <hr style="background-color: #ecf3f8; margin-top: 1em;">
          </div>
          <!-- Show or not content -->
          {{# if paginationReady }}
            {{# if hasApi }}
              {{> apiCatalogTable apis=apis organization=organization }}
            {{ else }}
              <!-- Show no APIs message -->
              {{> organizationNoApis organization=organization }}
            {{/ if }}
          {{/ if }}
        </div>
      </div>
      <div class="col-md-4 organization-side-block" style="padding-left: 5px;">
        <div class="about-organization block-wrapper" style="margin-left: 0;">
          <h2 style="font-size:1.6em;margin-top:0;text-transform: none;margin-bottom: 0.5em;"> {{ organization.name }}</h2>
          {{# if organization.description }}
            <p style="color:#37474F;font-size:1.2rem;">
              {{ organization.description }}
            </p>
          {{/ if }}
          <div class="organization-header-side-icon">
            {{> organizationSocialMediaIcons organization=organization }}
          </div>
          <p class="link-color-wrapper">
            <a href="{{ organization.url }}">
              <i class="mdi mdi-open-in-new"></i>
              {{ organization.url }}
            </a>
          </p>
          {{# if organization.contact.email }}
            <p class="link-color-wrapper" style="margin-bottom: 0;">
              <a href="mailto:{{ organization.contact.email }}">
                {{ organization.contact.email }}
              </a>
            </p>
          {{/ if }}
        </div>
        {{> relatedMedia entity=organization }}
      </div>
    {{ else }}
      <!-- If no data yet available show spinner -->
      {{> spinner }}
    {{/ if }}
  </div>
</template>
