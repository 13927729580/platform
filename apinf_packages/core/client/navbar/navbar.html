<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="navbar">
  <nav class="container-fluid navbar-new">
    {{# if projectLogoExists }}
    <a href="{{ pathFor 'home' }}" id="frontpage-button" class="pull-left" style="padding-top:20px;">
      <img class="navbar-logo" src="{{ uploadedProjectLogoLink }}">
    </a>
    {{/ if }}
    <ul class="nav navbar-nav" id="user-menu" style="float:right;">
      {{> userMenu user=currentUser }}

      <!-- {{# unless isActiveRoute 'search'}}
      <li>
        <a type="button" class="icon-search" id="search-button">
          <i class="fa fa-search toggle-search-icon"></i>
          <i class="fa fa-times toggle-search-icon"></i>
        </a>
      </li>
      {{/ unless}} -->
    </ul>
    <div class="secondary-menu-block-inner" style="text-align:center;">
    <ul class="nav nav-tabs" role="tablist" style="display: inline-block;">
      {{# if currentUser }}
      {{# if proxyIsDefined }}
      {{# if userCanViewDashboard }}
      <li class="{{ isActiveRoute 'dashboardPage' }}">
        <a href="{{ pathFor 'dashboardPage' }}" id="dashboard-button">
          {{_ "navbar_dashboard" }}
        </a>
      </li>
      {{/ if }}
      {{/ if }}
      {{/ if }}
      <li class="{{ isActiveRoute 'apiCatalog' }}">
        <a href="{{ pathFor 'apiCatalog' }}" id="apis-button">
          APIs
        </a>
      </li>
      <li class="{{ isActiveRoute 'organizationCatalog' }}">
        <a href="{{ pathFor 'organizationCatalog' }}" id="organizations-button">
          {{_ "navbar_organizations" }}
        </a>
      </li>
      {{# if currentUser }}

      {{# if isInRole 'admin' }}
      <li class="{{ isActiveRoute 'accountsAdmin' }}">
        <a href="{{ pathFor 'accountsAdmin' }}" id="users-button">
          {{_ "navbar_users" }}
        </a>
      </li>
      {{/ if }}

      <!-- {{# if userCanAddApi }}
      <li class="{{ isActiveRoute 'addApi' }}">
        <a href="{{ pathFor 'addApi' }}" id="addapi-button">
          + {{_ "navbar_addAPIBackend" }}
        </a>
      </li>
      {{/ if }} -->
      {{/ if }}
      {{# if currentUser }}
      {{ else }}
      <li>
        <a class="navbar-login" href="{{ pathFor 'signUp' }}" id="signup-button">
          {{_ "navbar_signUp" }}
        </a>
      </li>
      <li>
        <a class="navbar-login" href="{{ pathFor 'signIn' }}" id="signin-button">
          {{_ "navbar_signIn" }}
        </a>
      </li>
      {{/ if }}

    </ul>
  </div>
  </nav>
  <!-- <div class="container">
    {{> searchField }}
  </div> -->
</template>
