<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="navbar">
  <div class="navbar-new">
    {{# if projectLogoExists }}
    <a href="{{ pathFor 'home' }}" id="frontpage-button">
      <img class="navbar-logo" src="{{ uploadedProjectLogoLink }}">
    </a>
    {{ else }}
    <div class="project-name">
      <a href="{{ pathFor 'home' }}" class="project-name-link" id="frontpage-button">
        {{ branding.siteTitle }}
      </a>
    </div>
    {{/ if }}
    <ul class="nav nav-tabs" role="tablist">
      <!-- <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab" data-toggle="tab">MQTT Dashboard</a></li> -->
      {{# if currentUser }}
      {{# if proxyIsDefined }}
      {{# if userCanViewDashboard }}
      <li class="{{ isActiveRoute 'dashboardPage' }}">
        <a href="{{ pathFor 'dashboardPage' }}" id="dashboard-button">
          {{_ "navbar_dashboard" }}
        </a>
      </li>
      {{/ if }}
      {{/ if }}
      {{/ if }}
      <li class="{{ isActiveRoute 'apiCatalog' }}">
        <a href="{{ pathFor 'apiCatalog' }}" id="apis-button">
          {{_ "navbar_apis" }}
        </a>
      </li>
      <li class="{{ isActiveRoute 'organizationCatalog' }}">
        <a href="{{ pathFor 'organizationCatalog' }}" id="organizations-button">
          {{_ "navbar_organizations" }}
        </a>
      </li>
      {{# if currentUser }}

      {{# if isInRole 'admin' }}
      <li class="{{ isActiveRoute 'accountsAdmin' }}">
        <a href="{{ pathFor 'accountsAdmin' }}" id="users-button">
          {{_ "navbar_users" }}
        </a>
      </li>
      {{/ if }}

      {{# if userCanAddApi }}
      <li class="{{ isActiveRoute 'addApi' }}">
        <a href="{{ pathFor 'addApi' }}" id="addapi-button">
          + {{_ "navbar_addAPIBackend" }}
        </a>
      </li>
      {{/ if }}
      {{/ if }}
      {{# if currentUser }}
      {{> userMenu user=currentUser }}
      {{ else }}
      <li>
        <a class="navbar-login" href="{{ pathFor 'signUp' }}" id="signup-button">
          {{_ "navbar_signUp" }}
        </a>
      </li>
      <li>
        <a class="navbar-login" href="{{ pathFor 'signIn' }}" id="signin-button">
          {{_ "navbar_signIn" }}
        </a>
      </li>
      {{/ if }}

    </ul>
    <ul class="nav navbar-nav navbar-right" id="user-menu">

      <!-- {{# unless isActiveRoute 'search'}}
      <li>
        <a type="button" class="icon-search" id="search-button">
          <i class="fa fa-search toggle-search-icon"></i>
          <i class="fa fa-times toggle-search-icon"></i>
        </a>
      </li>
      {{/ unless}} -->
    </ul>
  </div>
  <!-- <div class="container">
    {{> searchField }}
  </div> -->
</template>
