<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="navbar">
  <nav class="navbar navbar-new" style="margin-bottom: 0;border-radius: 0;">
    <div class="container-fluid">
      <div class="row">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header col-md-3" style="padding-left: 0">
          <button type="button" class="navbar-toggle collapsed pull-left" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          {{# if projectLogoExists }}
          <a href="{{ pathFor 'home' }}" id="frontpage-button" class="pull-left" style="padding-top:16px;">
            <img class="navbar-logo" src="https://i.imgur.com/1jNbAuL.png">
          </a>
          {{/ if }}
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="col-md-6 secondary-menu-block-inner collapse navbar-collapse" id="navbar-collapse">
          <ul class="nav nav-tabs" role="tablist" style="display: inline-block;">
            {{# if currentUser }}
            {{# if proxyIsDefined }}
            {{# if userCanViewDashboard }}
            <li class="{{ isActiveRoute 'dashboardPage' }}">
              <a href="{{ pathFor 'dashboardPage' }}" id="dashboard-button">
                {{_ "navbar_dashboard" }}
              </a>
            </li>
            {{/ if }}
            {{/ if }}
            {{/ if }}
            {{# unless currentUser }}
            <li>
              <a href="#">
                How it works
              </a>
            </li>
            <li>
              <a href="#">
                Pricing
              </a>
            </li>
            <li>
              <a href="#">
                Company
              </a>
            </li>
            {{/ unless }}
            {{# if currentUser }}
            <li class="{{ isActiveRoute 'apiCatalog' }}">
              <a href="{{ pathFor 'apiCatalog' }}" id="apis-button">
                APIs
              </a>
            </li>
            {{ else }}
            <li class="{{ isActiveRoute 'apiCatalog' }}">
              <a href="{{ pathFor 'apiCatalog' }}" id="apis-button">
                Explore APIs
              </a>
            </li>
            {{/ if }}
            {{# if currentUser }}
            <li class="{{ isActiveRoute 'organizationCatalog' }}">
              <a href="{{ pathFor 'organizationCatalog' }}" id="organizations-button">
                {{_ "navbar_organizations" }}
              </a>
            </li>
            {{/ if }}
            {{# if currentUser }}
            {{# if isInRole 'admin' }}
            <li class="{{ isActiveRoute 'accountsAdmin' }}">
              <a href="{{ pathFor 'accountsAdmin' }}" id="users-button">
                {{_ "navbar_users" }}
              </a>
            </li>
            {{/ if }}
            {{/ if }}
          </ul>
        </div>
        <div class="col-md-3 right-menu-div" style="padding-right:0; text-align:right;">
          {{# if currentUser }}
          <ul class="nav navbar-nav pull-right" id="user-menu">
            {{> userMenu user=currentUser }}
          </ul>
          {{ else }}
          <ul class="nav nav-tabs" role="tablist" style="display: inline-block;">
            <li>
              <a class="navbar-login" href="{{ pathFor 'signIn' }}" id="signin-button">
                {{_ "navbar_signIn" }}
              </a>
            </li>
            <li>
              <a class="navbar-login" href="{{ pathFor 'signUp' }}" id="signup-button" style="color: #fff;background-color: #19B934; border-radius: 4px;">
                {{_ "navbar_signUp" }}
              </a>
            </li>
          </ul>
          {{/ if }}
        </div>
      </div>
    </div><!-- /.navbar-collapse -->
  </nav>
</template>
