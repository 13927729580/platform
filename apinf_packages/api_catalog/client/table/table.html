<!-- Copyright 2017 Apinf Oy
This file is covered by the EUPL license.
You may obtain a copy of the licence at
https://joinup.ec.europa.eu/community/eupl/og_page/european-union-public-licence-eupl-v11 -->

<template name="apiCatalogTable">
  <div class="table-responsive block-wrapper" style="min-height: 500px;">
    {{# if Template.subscriptionsReady }}
      {{# if apis.length }}
        <table class="table api-catalog-table">
          <tbody>
          {{# each api in apis }}
            {{# if api.currentUserCanView }}
              <tr>
                <!-- <td class="col-sm-1">
                  {{> viewApiStatus api=api width="0.6" }}
                  <div class="api-catalog-table-logo center-block">
                    {{> viewApiLogo api=api }}
                  </div>
                </td> -->
                <td class="col-sm-9">
                  {{# if currentUser }}
                    <span class="api-card-bookmark pull-right">
                      {{> bookmark api=api catalogView=true }}
                    </span>
                    {{/ if }}
                    {{> viewApiLogo api=api }}
                  <h4 class="api-catalog-table-title">
                    {{# if api.organization }}
                    <!-- TODO: link to organization -->
                      {{ api.organization.name }}
                    {{ else }}
                      {{ api.getApiManagersByName }}
                    {{/ if }}
                    /<a href="{{ pathFor 'viewApi' slug=api.slug }}" style="font-weight: 500;">
                      {{ api.name }}
                    </a>
                  </h4>
                  <!-- Api LifeCycleStatus Label -->
                  <!-- {{> apiLifecycleStatus api=api }} -->

                  {{# unless api.isPublic }}
                    <span class="label label-default">
                      {{_ "catalogTable_labelText_private" }}
                    </span>
                  {{/ unless }}
                  <div>
                      <p class="api-catalog-table-description">
                        {{# if api.description }}
                          {{ api.description }}
                        {{/ if }}
                      </p>
                    <span class="created-at">
                      {{_ "catalogTable_added" }}
                      {{ api.relativeCreatedAt }}
                    </span>
                  </div>
                </td>
                <!-- <td class="col-sm-1" style="vertical-align:middle">
                  {{> apiBackendRating api }}
                </td> -->
                <!-- <td class="col-sm-1 text-center"> -->
                  <!-- {{ else }}
                    <span class="api-card-bookmark">
                      <i class="fa fa-bookmark bookmark-default"></i>
                      {{ api.bookmarkCount }}
                    </span> -->
                <!-- </td> -->
              </tr>
            {{/ if }}
          {{/ each }}
          </tbody>
        </table>
      {{ else }}
        <div class="col-xs-12">
          <p>{{_ 'apiCatalog_noApis_Found'}}</p>
        </div>
      {{/ if }}
    {{/ if }}
  </div>
</template>
