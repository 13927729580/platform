<template name="relatedMedia">
  <!-- Show media area in case either -->
  <!-- there are posts -->
  {{# if posts }}
  <div class="panel panel-default">
    <div class="panel-heading">
      <h2 id="oembedded-title" class="panel-title clearfix">
        {{#if api.currentUserCanEdit }}
            <button
              type="button"
              class="btn btn-xs btn-success pull-right"
              id="add-oembed" 
              title='Add embedded content'>
                Add related media!
            </button>
        {{/if}}
        <!-- Related Media -->
        {{_ "apiOembed_Title" }}
      </h2>
    </div>
    <div class="panel-body">
      <div class="container">
        <div class="row">
            {{# each post in posts }}
              <div class="col-grid-post col-xl-2 col-md-3 col-sm-6 col-xs-12">
                {{> postItem post=post api=api}}
              </div>
            {{/ each }}
        </div>

        <div class="centered">
          {{> defaultBootstrapPaginator
              pagination=templatePagination
              limit=4 containerClass="text-center"
              onClick=clickEvent}}
        </div>
      </div>
    </div>
  </div>
  {{ else }}
    <!-- or user has rights -->
    {{# if api.currentUserCanEdit }}
      <div class="well">
        <p>You don't have any media related to this API</p>
        <button
          type="button"
          class="btn btn-sm btn-success"
          id="add-oembed"
          title='Add embedded content'>
            Add related media!
        </button>
      </div>
    {{ /if }}
  {{ /if }}
</template>
