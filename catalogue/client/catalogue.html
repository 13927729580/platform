<template name="catalogue">
  <h3>{{_ "catalogue_Title"}}</h3>
  <nav id="catalogue-toolbar" class="navbar navbar-default">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button
                type="button"
                class="navbar-toggle collapsed"
                data-toggle="collapse"
                data-target="#bs-example-navbar-collapse-1"
                aria-expanded="false">
          <span class="sr-only">Toggle toolbar</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse sort-filter-toolbar" id="bs-example-navbar-collapse-1">
        {{# if currentUser }}
        <div class="nav navbar-nav">
          <div class="btn-group navbar-btn" role="group" aria-label="Filter options" data-toggle="buttons">
            <label class="btn btn-default active">
              <input type="radio" name="filter-options" id="show-all" value="all">
              {{_ "catalogue_FilterButtons_Show_All"}}
            </label>
            <label class="btn btn-default">
              <input type="radio" name="filter-options" id="my-apis" value="my-apis">
              {{_ "catalogue_FilterButtons_My_APIs"}}
            </label>
            <label class="btn btn-default">
              <input type="radio" name="filter-options" id="my-bookmarks" value="my-bookmarks">
              {{_ "catalogue_FilterButtons_My_Bookmarks"}}
            </label>
          </div>
        </div>
        {{/if}}
        <div class="nav navbar-nav navbar-right">
          <div class="btn-group navbar-btn" role="group" aria-label="View mode" data-toggle="buttons">
            <label class="btn btn-default toolbar-tooltip active" title="Grid">
              <input type="radio" name="view-mode" id="grid-mode" value="grid">
              <i class="fa fa-th-large" aria-hidden="true"></i>
            </label>
            <label class="btn btn-default toolbar-tooltip" title="Table">
              <input type="radio" name="view-mode" id="table-mode" value="table">
              <i class="fa fa-table" aria-hidden="true"></i>
            </label>
          </div>
        </div>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
  </nav>
  <!-- if viewMode is table, show table -->
  {{# if gridViewMode }}
    {{# if Template.subscriptionsReady }}
      {{> catalogueGrid apiBackends=apiBackends }}
    {{else}}
      {{> spinner }}
    {{/if}}
  {{/ if }}
  <!-- if viewMode is table, show table -->
  {{# if tableViewMode }}
    {{# if Template.subscriptionsReady }}
      {{> catalogueTable apiBackends=apiBackends }}
    {{else}}
      {{> spinner }}
    {{/if}}
  {{/ if }}
</template>
